(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{185:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h3",{attrs:{id:"accessing-a-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accessing-a-model","aria-hidden":"true"}},[t._v("#")]),t._v(" Accessing a Model")]),t._v(" "),a("p",[t._v("Once we define a model through "),a("code",[t._v("orango.model('ModelName', mySchema)")]),t._v(", we can access it through the same function")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyModel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ModelName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Or just do it all at once")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyModel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ModelName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mySchema"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("The first argument is the singular name of the collection your model is for. "),a("strong",[t._v("Orango automatically looks for the plural version of your model name.")]),t._v(" For example, if you use")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyModel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'Ticket'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mySchema"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Then Orango will create the model for your "),a("strong",[t._v("tickets")]),t._v(" collection, not your "),a("strong",[t._v("ticket")]),t._v(" collection.")]),t._v(" "),a("p",[t._v("Once we have our model, we can then instantiate it, and save it:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" instance "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyModel")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninstance"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("my"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninstance"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("save")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Or we can find documents from the same collection")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" docs "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" MyModel"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("find")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("You can also "),a("code",[t._v("findOne")]),t._v(", "),a("code",[t._v("findById")]),t._v(", "),a("code",[t._v("findByQuery")]),t._v(", "),a("code",[t._v("updateOne")]),t._v(", etc. For more details check out "),a("a",{attrs:{href:"#"}},[t._v("the docs")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Important!")]),t._v(" If you opened a separate connection using "),a("code",[t._v("orango.get('anotherNameBesidesDefault')")]),t._v(" but attempt to access the model through "),a("code",[t._v("orango.model('ModelName')")]),t._v(" it will not work as expected since it is not hooked up to the active db connection. In this case access your model through the connection you created:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" example "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'example'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexample"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("connect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyModel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" example"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ModelName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" schema"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" m "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyModel")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nm"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("save")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// works")]),t._v("\n")])])]),a("p",[t._v("--vs--")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" example "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'example'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexample"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("connect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nexample"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ModelName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" schema"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// will not be found because it it was not registered with this instance")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyModel "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ModelName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" m "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("MyModel")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nm"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("save")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Example of defining a model")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" schema "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Schema")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token operator"}},[t._v("...")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" orango"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("model")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'User'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" schema"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"model-has-many-built-in-query-methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#model-has-many-built-in-query-methods","aria-hidden":"true"}},[t._v("#")]),t._v(" Model has many built-in query methods")]),t._v(" "),a("ul",[a("li",[t._v("setConnection")]),t._v(" "),a("li",[t._v("find")]),t._v(" "),a("li",[t._v("findByEdge")]),t._v(" "),a("li",[t._v("findById")]),t._v(" "),a("li",[t._v("findByIdAndDelete")]),t._v(" "),a("li",[t._v("findByIdAndUpdate")]),t._v(" "),a("li",[t._v("findByQuery")]),t._v(" "),a("li",[t._v("findMany")]),t._v(" "),a("li",[t._v("updateOne")]),t._v(" "),a("li",[t._v("deleteOne")]),t._v(" "),a("li",[t._v("deleteMany")]),t._v(" "),a("li",[t._v("findOne")]),t._v(" "),a("li",[t._v("deleteMany")]),t._v(" "),a("li",[t._v("findOne")]),t._v(" "),a("li",[t._v("getCollection")]),t._v(" "),a("li",[t._v("importMany")]),t._v(" "),a("li",[t._v("updateMany")]),t._v(" "),a("li",[t._v("remove")]),t._v(" "),a("li",[t._v("save")])]),t._v(" "),a("h3",{attrs:{id:"supports-additional-cool-features-like"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supports-additional-cool-features-like","aria-hidden":"true"}},[t._v("#")]),t._v(" Supports additional cool features like:")]),t._v(" "),a("ul",[a("li",[t._v('Conditional "$or" statements in query')]),t._v(" "),a("li",[t._v("Automatic removal of default values")]),t._v(" "),a("li",[t._v("Strict schemas which automatically strips unknown properties")]),t._v(" "),a("li",[t._v('Simple incrementation of values using "++/--" or "$inc"')]),t._v(" "),a("li",[t._v("Simple sorting using using strings")]),t._v(" "),a("li",[t._v("Simple return value filtering")]),t._v(" "),a("li",[t._v("Print as AQL")]),t._v(" "),a("li",[t._v("Performance measurements on data conversion")]),t._v(" "),a("li",[t._v("and more...")])]),t._v(" "),a("h3",{attrs:{id:"orm-for-common-query-functions-for-document-retrieval-and-modification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#orm-for-common-query-functions-for-document-retrieval-and-modification","aria-hidden":"true"}},[t._v("#")]),t._v(" ORM for common query functions for document retrieval and modification")]),t._v(" "),a("ul",[a("li",[t._v("toAQL: returns the AQL string version of query")]),t._v(" "),a("li",[t._v("action(find | findEdge | update | delete)")]),t._v(" "),a("li",[t._v("collection")]),t._v(" "),a("li",[t._v("computed")]),t._v(" "),a("li",[t._v("connection")]),t._v(" "),a("li",[t._v("filter")]),t._v(" "),a("li",[t._v("data")]),t._v(" "),a("li",[t._v("exec")]),t._v(" "),a("li",[t._v("limit")]),t._v(" "),a("li",[t._v("model")]),t._v(" "),a("li",[t._v("offset")]),t._v(" "),a("li",[t._v("options")]),t._v(" "),a("li",[t._v("query")]),t._v(" "),a("li",[t._v("schemaOptions")]),t._v(" "),a("li",[t._v("select")]),t._v(" "),a("li",[t._v("sort")])])])}],!1,null,null,null);e.options.__file="__draft.md";s.default=e.exports}}]);